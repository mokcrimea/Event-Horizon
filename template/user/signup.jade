extends ../layout/page

block main
  h1= title

block content
  form.loginWindow(action="/user", method="post", role="form" name="reg_form")
    .form-group
      label.form-label Имя
        input.form-input(name="name" type="text" placeholder="Имя")
    .form-group
      label.form-label E-mail
        input.form-input(name="email" type="email" placeholder="E-mail")
    .form-group
      label.form-label Username
        input.form-input(name="username" type="text" placeholder="Username")
    .form-group
      label.form-label Пароль
        input.form-input(name="password" type="password" placeholder="Пароль")
    .form-group
      .btn-right
        button.btn-form(name="submit" type="submit") Отправить
  script.
    var form = document.reg_form;
    form.submit.addEventListener('click', function(evt){
      var reName = /(^[A-zА-я0-9]{3,20}$)/;
      var reEmail = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
      var reUsername = /(^[A-zА-я0-9_]{3,20}$)/;
      var rePassword = /(^[A-zА-я0-9!@#$%^&*()_]{6,20}$)/;

      if (!reName.test(form.name.value)) {
        return evt.preventDefault();
      }
      if (!reEmail.test(form.email.value)) {
        return evt.preventDefault();
      }
      if (!reUsername.test(form.username.value)) {
        return evt.preventDefault();
      }
      if (!rePassword.test(form.password.value)) {
        return evt.preventDefault();
      }
    });